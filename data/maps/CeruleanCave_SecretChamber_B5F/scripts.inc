CeruleanCave_SecretChamber_B5F_MapScripts::
	.byte 0

CeruleanCave_SecretChamber_B5F_Olivia::
	lock
	checktrainerflag TRAINER_AMY
	goto_if_eq CeruleanCave_SecretChamber_B5F_EventScript_Rematch2Olivia
	checktrainerflag TRAINER_OLIVIA
	goto_if_eq CeruleanCave_SecretChamber_B5F_EventScript_RematchOlivia
	trainerbattle_single TRAINER_OLIVIA, CeruleanCave_SecretChamber_B5F_Text_OliviaIntro, CeruleanCave_SecretChamber_B5F_Text_OliviaDefeat, CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia, NO_MUSIC
CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia::
	lockall
	msgbox CeruleanCave_SecretChamber_B5F_Text_OliviaPostBattle, MSGBOX_NPC
	call EventScript_OutOfCenterPartyHeal
	msgbox CeruleanCave_SecretChamber_B5F_Text_OliviaPostHeal, MSGBOX_NPC
	msgbox CeruleanCave_SecretChamber_B5F_Text_OliviaTeach, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, CeruleanCave_SecretChamber_B5F_EventScript_OliviaPostTeach
	msgbox CeruleanCave_SecretChamber_B5F_Text_OliviaWhichMon
	setvar VAR_0x8005, MOVE_MAIL_SCRIPT
	call EventScript_ChooseMoveTutorMon
	goto_if_eq VAR_RESULT, FALSE, CeruleanCave_SecretChamber_B5F_EventScript_OliviaPostTeach
CeruleanCave_SecretChamber_B5F_EventScript_OliviaPostTeach::
	msgbox CeruleanCave_SecretChamber_B5F_Text_OliviaPostTeach, MSGBOX_NPC
	applymovement LOCALID_OLIVIA, CeruleanCave_SecretChamber_B5F_Movement_OliviaExit
	waitmovement 0
	setflag FLAG_TEMP_E @ Hide Olivia until map reload
	removeobject LOCALID_OLIVIA
	releaseall
	end
CeruleanCave_SecretChamber_B5F_EventScript_RematchOlivia::
	cleartrainerflag TRAINER_OLIVIA
	trainerbattle_single TRAINER_OLIVIA, CeruleanCave_SecretChamber_B5F_Text_OliviaRematchIntro, CeruleanCave_SecretChamber_B5F_Text_OliviaDefeat, CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia, NO_MUSIC
	goto CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia
	end
CeruleanCave_SecretChamber_B5F_EventScript_Rematch2Olivia::
	cleartrainerflag TRAINER_OLIVIA
	trainerbattle_single TRAINER_OLIVIA, CeruleanCave_SecretChamber_B5F_Text_OliviaRematch2Intro, CeruleanCave_SecretChamber_B5F_Text_OliviaDefeat, CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia, NO_MUSIC
	goto CeruleanCave_SecretChamber_B5F_EventScript_DefeatedOlivia
	end

CeruleanCave_SecretChamber_B5F_Movement_OliviaExit::
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

