CeruleanCave_SecretChamber_B3F_MapScripts::
	.byte 0

CeruleanCave_SecretChamber_B3F_Milly::
	lock
	checktrainerflag TRAINER_AMY
	goto_if_eq CeruleanCave_SecretChamber_B3F_EventScript_Rematch2Milly
	checktrainerflag TRAINER_MILLY
	goto_if_eq CeruleanCave_SecretChamber_B3F_EventScript_RematchMilly
	trainerbattle_single TRAINER_MILLY, CeruleanCave_SecretChamber_B3F_Text_MillyIntro, CeruleanCave_SecretChamber_B3F_Text_MillyDefeat, CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly, NO_MUSIC
CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly::
	lockall
	msgbox CeruleanCave_SecretChamber_B3F_Text_MillyPostBattle, MSGBOX_NPC
	call EventScript_OutOfCenterPartyHeal
	msgbox CeruleanCave_SecretChamber_B3F_Text_MillyPostHeal, MSGBOX_NPC
	msgbox CeruleanCave_SecretChamber_B3F_Text_MillyTeach, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, NO, CeruleanCave_SecretChamber_B3F_EventScript_MillyPostTeach
	msgbox CeruleanCave_SecretChamber_B3F_Text_MillyWhichMon
	setvar VAR_0x8005, MOVE_MAIL_SCRIPT
	call EventScript_ChooseMoveTutorMon
	goto_if_eq VAR_RESULT, FALSE, CeruleanCave_SecretChamber_B3F_EventScript_MillyPostTeach
CeruleanCave_SecretChamber_B3F_EventScript_MillyPostTeach::
	msgbox CeruleanCave_SecretChamber_B3F_Text_MillyPostTeach, MSGBOX_NPC
	applymovement LOCALID_MILLY, CeruleanCave_SecretChamber_B3F_Movement_MillyExit
	waitmovement 0
	setflag FLAG_TEMP_E @ Hide Milly until map reload
	removeobject LOCALID_MILLY
	releaseall
	end
CeruleanCave_SecretChamber_B3F_EventScript_RematchMilly::
	cleartrainerflag TRAINER_MILLY
	trainerbattle_single TRAINER_MILLY, CeruleanCave_SecretChamber_B3F_Text_MillyRematchIntro, CeruleanCave_SecretChamber_B3F_Text_MillyDefeat, CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly, NO_MUSIC
	goto CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly
	end
CeruleanCave_SecretChamber_B3F_EventScript_Rematch2Milly::
	cleartrainerflag TRAINER_MILLY
	trainerbattle_single TRAINER_MILLY, CeruleanCave_SecretChamber_B3F_Text_MillyRematch2Intro, CeruleanCave_SecretChamber_B3F_Text_MillyDefeat, CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly, NO_MUSIC
	goto CeruleanCave_SecretChamber_B3F_EventScript_DefeatedMilly
	end

CeruleanCave_SecretChamber_B3F_Movement_MillyExit::
	walk_left
	walk_left
	walk_left
	walk_left
	step_end

